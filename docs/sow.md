# Statement of Work (SOW) - nasjp.dev 最適化プロジェクト

## 1. プロジェクト概要

### 1.1 目的
nasjp.devのウェブサイトパフォーマンスと品質を最適化し、Lighthouseスコアの向上を図る。

### 1.2 背景
2025年7月13日実施のLighthouse監査により、以下の改善機会を特定：
- SEOスコア: 92/100（目標: 100/100）
- Best Practicesスコア: 96/100（目標: 100/100）
- Performanceスコア: 99/100（維持・向上）

## 2. 現状分析

### 2.1 Lighthouseスコア（2025年7月13日時点）
| カテゴリ | スコア | 状態 |
|---------|-------|------|
| Performance | 99/100 | ✅ 優秀 |
| Accessibility | 100/100 | ✅ 完璧 |
| Best Practices | 96/100 | ⚠️ 改善必要 |
| SEO | 92/100 | ⚠️ 改善必要 |

### 2.2 主要な技術的課題
1. **robots.txt エラー**: HTMLが返されている（SEOに影響）
2. **画像アスペクト比**: gohan.png が不適切な比率で表示
3. **レンダリングブロックCSS**: 150ms の遅延発生
4. **未使用JavaScript**: 50%のコードが未使用

## 3. 作業範囲

### 3.1 Phase 1: 重要度の高い修正（即日対応）
- [ ] robots.txt ファイルの作成と設置
- [ ] 画像アスペクト比の修正

### 3.2 Phase 2: パフォーマンス最適化（2日以内）
- [ ] Critical CSS のインライン化
- [ ] 非クリティカルCSSの遅延読み込み実装
- [ ] 未使用CSSの削除

### 3.3 Phase 3: JavaScript最適化（3日以内）
- [ ] Tree shaking の最適化
- [ ] レガシーJavaScriptの削除
- [ ] バンドルサイズの削減

## 4. 成果物

### 4.1 実装成果物
1. **public/robots.txt**
   - 正しい形式のrobots.txtファイル
   - sitemap.xmlへの参照を含む

2. **最適化されたmain-scene.tsx**
   - 正しいアスペクト比での画像表示
   - パフォーマンス最適化

3. **CSS最適化**
   - インラインCritical CSS
   - 遅延読み込みスタイルシート
   - 削減されたCSSファイルサイズ

4. **JavaScript最適化**
   - 最適化されたバンドル
   - 削減されたファイルサイズ

### 4.2 ドキュメント成果物
1. 最適化実施レポート
2. パフォーマンス改善の数値データ
3. 今後の推奨事項

## 5. タイムライン

| フェーズ | 作業内容 | 所要時間 | 完了予定 |
|---------|---------|---------|----------|
| Phase 1 | robots.txt作成 | 5分 | 即日 |
| Phase 1 | 画像アスペクト比修正 | 10分 | 即日 |
| Phase 2 | CSS最適化 | 30分 | 2日以内 |
| Phase 3 | JavaScript最適化 | 60分 | 3日以内 |
| 最終確認 | Lighthouse再監査 | 15分 | 3日以内 |

**合計所要時間**: 約2時間

## 6. 期待される成果

### 6.1 定量的成果
- SEOスコア: 92 → 100（+8点）
- Best Practicesスコア: 96 → 100（+4点）
- FCP（First Contentful Paint）: 150ms短縮
- 全体的なページロード時間の改善

### 6.2 定性的成果
- 検索エンジンでの可視性向上
- ユーザーエクスペリエンスの向上
- コードベースの最適化と保守性向上

## 7. 技術仕様

### 7.1 robots.txt 実装
```
User-agent: *
Allow: /
Sitemap: https://www.nasjp.dev/sitemap.xml
```

### 7.2 画像最適化
- 現在: 360x343px を 300x300px で表示
- 修正後: アスペクト比 1.05:1 を維持

### 7.3 CSS最適化戦略
- Next.js App Router のCSS最適化機能を活用
- 動的インポートによる遅延読み込み

## 8. リスクと対策

| リスク | 影響度 | 対策 |
|--------|-------|------|
| CSS変更による表示崩れ | 中 | 段階的実装とテスト |
| JSバンドル変更による機能不全 | 低 | 十分なテストとロールバック計画 |
| 予期しないパフォーマンス低下 | 低 | 各段階でのLighthouse監査 |

## 9. 成功基準
- 全Lighthouseカテゴリで95点以上を達成
- ページロード時間の改善（測定可能）
- エラーゼロでの実装完了

## 10. 承認
本SOWの内容に基づき、最適化作業を開始します。

作成日: 2025年7月13日